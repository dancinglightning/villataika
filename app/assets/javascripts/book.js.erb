// change the table for one day availibility
function change_availibility(  ) {
  var nights = jQuery("select.nights option:selected").val() ;
  var arriving = jQuery("#arriving_on").val() ;
  var room = jQuery("#room").val();
  console.log("change");
  console.log(jQuery(this).attr("room"));
  jQuery('#rooms_day').load("./bookings/rooms_day.html?nights=" + nights + "&arriving=" + arriving + "&room=" + room);
}

// change class on selected room (and back)
function set_room(){
  jQuery("#rooms_day .selected").removeClass("selected");
  jQuery(this).addClass( "selected");
  $("input[id=room]").val(jQuery(this).attr("room"));
    //jQuery("#room").set_value(jQuery(this).attr("room"));
  console.log("set");
  console.log(jQuery(this).attr("room"));
  return false;
}

// attach above change function to elements when document is loaded
jQuery(document).ready(function() {
//  jQuery('.nights').change(change_availibility);
  jQuery( "#arriving_on" ).datepicker( { dateFormat: 'dd-mm-yy' } );
  jQuery(".free").on("click",  set_room );
  jQuery('a.lightbox').colorbox({rel: true , opacity:0.2}  );
});
